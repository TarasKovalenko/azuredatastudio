<!--
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the Source EULA. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
-->

 <h1 class="job-heading">Jobs | {{agentJobInfo.name}} </h1>

 <!-- Back -->
 <div class="all-jobs">
	<div class="back-button-icon" (click)="goToJobs()"></div>All Jobs
 </div>

<!-- Actions -->
<ul class="action-buttons">
	<li>
		<div class="icon-start" (click)="jobAction('run', agentJobInfo.name)">Run</div>
	</li>
	<li>
		<div class="icon-stop" (click)="jobAction('stop', agentJobInfo.name)">Stop</div>
	</li>
</ul>

<!-- Overview  -->
 <div class="overview-container">
   <div class="overview-tab" (click)='toggleCollapse()'>
	 <input id="accordion" type="checkbox">
	 <label for="accordion">
		<div class="resultsViewCollapsible collapsed" (click)='toggleCollapse()'></div>
		 Overview
	</label>
	 <div class="accordion-content">
		<table align='left'>
				<tr>
					<td id='col1'>
						Category:
					</td>
					<td id='col2'>
						{{agentJobInfo.category}}
					</td>
					<td id='col3'>
						Enabled:
					</td>
					<td id='col4'>
						{{agentJobInfo.enabled}}
					</td>
				</tr>
				<tr>
					<td id='col1'>
						Has Alert:
					</td>
					<td id='col2'>
						{{agentJobInfo.hasTarget}}
					</td>
					<td id='col3'>
						Has Schedule:
					</td>
					<td id='col4'>
						{{agentJobInfo.hasSchedule}}
					</td>
				</tr>
				<tr>
					<td id='col1'>
						Last Run:
					</td>
					<td id='col2'>
						{{agentJobInfo.lastRun}}
					</td>
					<td id='col3'>
						Next Run:
					</td>
					<td id='col4'>
						{{agentJobInfo.nextRun}}
					</td>
				</tr>
		</table>
	 </div>
   </div>
</div>

<!-- Job History details -->
<div class='history-details'>
	<!-- Previous run list -->
	<div style="width: 20%">
		<table>
			<tr>
				<td class="date-column">
					<b>Date</b>
				</td>
				<td>
					<b>Status</b>
				</td>
			</tr>
		</table>
		<div #table class="step-table prev-run-list" style="position: relative; height: 100%; width: 100%"></div>
	</div>
	<!-- Job Steps -->
	<div class="job-steps">
		<h1 class="job-heading">
			{{agentJobHistoryInfo?.runDate}}
		</h1>
		<table class="step-list">
			<tr class="step-row">
				<td height="30">
					<h3>Status:</h3>
				</td>
				<td height="30">
					<h3></h3>
				</td>
			</tr>
			<tr class="step-row">
				<td height="30">
					Message:
				</td>
				<td height="30">
					{{agentJobHistoryInfo?.message}}
				</td>
			</tr>
			<tr class="step-row">
				<td height="30">
					Duration:
				</td>
				<td height="30">
					{{agentJobHistoryInfo?.runDuration}}
				</td>
			</tr>
			<tr class="step-row">
				<td height="30">
					Log:
				</td>
				<td>

				</td>
			</tr>
			<tr class="step-row">
				<td height="30">
					SQL message ID:
				</td>
				<td height="30">

				</td>
			</tr>
			<tr class="step-row">
				<td height="30">
					Retries Attempted:
				</td>
				<td height="30">
					{{agentJobHistoryInfo?.retriesAttempted}}
				</td>
			</tr>
		</table>
	</div>
</div>

